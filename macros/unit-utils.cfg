#textdomain wesnoth-After_the_Storm

#define NO_UPKEEP_NO_OVERLAY
    [+unit]
        # dammit, esr
        upkeep=loyal
    [/unit]
#enddef

# NOTE: VARIATION appeared in Wesnoth 1.9.10

#ifndef VARIATION
#define VARIATION _VARIATION_ID
    [+unit]
        variation={_VARIATION_ID}
    [/unit]
#enddef
#endif

# NOTE: FACING appeared in Wesnoth 1.9.10

#ifndef FACING
#define FACING DIRECTION
    # Meant to be used as a suffix to a unit-generating macro call.
    [+unit]
        facing={DIRECTION}
    [/unit]
#enddef
#endif

#define DOOR_TILES_TO_UNITS _DOOR_OWNER_SIDE
    # Generate door locations from the map; hardcoding would be faster at runtime,
    # but this method makes it easier and faster for me to write the WML :-)
    [store_locations]
        terrain="*^Z\"
        [or]
            terrain="*^Z/"
        [/or]
        variable=door_tilemap_store
    [/store_locations]
    {FOREACH door_tilemap_store k}
        [unit]
            side={_DOOR_OWNER_SIDE}
            [modifications]
                {TRAIT_MECHANICAL}
            [/modifications]
            type=Door
            x=$door_tilemap_store[$k].x
            y=$door_tilemap_store[$k].y
            id=door_at_x$door_tilemap_store[$k].x|_y$door_tilemap_store[$k].y|
        [/unit]
    {NEXT k}
    {CLEAR_VARIABLE door_tilemap_store}
#enddef

# kate: indent-mode normal; encoding utf-8; space-indent on;
